<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>6.3&nbsp;Checker</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="racket.css" title="default" /><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default" /><script type="text/javascript" src="scribble-common.js"></script></head><body id="doc-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x"><span style="font-weight: bold">Handin Server</span></a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="Handin-Server_and_Client.html" class="tocviewlink" pltdoc="x">Handin-<wbr></wbr>Server and Client</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="Quick_Start_for_a_Test_Drive.html" class="tocviewlink" pltdoc="x">Quick Start for a Test Drive</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="wheres-the-collection.html" class="tocviewlink" pltdoc="x">Where is the Collection?</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="Client_Customization.html" class="tocviewlink" pltdoc="x">Client Customization</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="server-setup.html" class="tocviewlink" pltdoc="x">Server Setup</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="Checker_Utilities.html" class="tocviewselflink" pltdoc="x">Checker Utilities</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="Additional_Utilities.html" class="tocviewlink" pltdoc="x">Additional Utilities</a></td></tr><tr><td align="right"></td><td><a href="doc-index.html" class="tocviewlink" pltdoc="x">Index</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>6&nbsp;</td><td><a href="Checker_Utilities.html" class="tocviewlink" pltdoc="x">Checker Utilities</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">6.1&nbsp;</td><td><a href="Sandbox.html" class="tocviewlink" pltdoc="x">Sandbox</a></td></tr><tr><td align="right">6.2&nbsp;</td><td><a href="Utilities.html" class="tocviewlink" pltdoc="x">Utilities</a></td></tr><tr><td align="right">6.3&nbsp;</td><td><a href="Checker.html" class="tocviewselflink" pltdoc="x">Checker</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#(form._((lib._handin-server/checker..rkt)._check~3a))" class="tocsublink" pltdoc="x"><span title="Provided from: handin-server/checker"><span class="RktSym"><span class="RktStxLink">check:<span class="mywbr"> </span></span></span></span></a></td></tr><tr><td><a href="#(form._((lib._handin-server/checker..rkt)._pre~3a))" class="tocsublink" pltdoc="x"><span title="Provided from: handin-server/checker"><span class="RktSym"><span class="RktStxLink">pre:<span class="mywbr"> </span></span></span></span></a></td></tr><tr><td><a href="#(form._((lib._handin-server/checker..rkt)._post~3a))" class="tocsublink" pltdoc="x"><span title="Provided from: handin-server/checker"><span class="RktSym"><span class="RktStxLink">post:<span class="mywbr"> </span></span></span></span></a></td></tr><tr><td><a href="#(def._((lib._handin-server/checker..rkt)._submission-eval))" class="tocsublink" pltdoc="x"><span title="Provided from: handin-server/checker"><span class="RktSym"><span class="RktValLink">submission-<wbr></wbr>eval</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._handin-server/checker..rkt)._user-data))" class="tocsublink" pltdoc="x"><span title="Provided from: handin-server/checker"><span class="RktSym"><span class="RktValLink">user-<wbr></wbr>data</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._handin-server/checker..rkt)._user-substs))" class="tocsublink" pltdoc="x"><span title="Provided from: handin-server/checker"><span class="RktSym"><span class="RktValLink">user-<wbr></wbr>substs</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._handin-server/checker..rkt)._pairs-or-singles-with-warning))" class="tocsublink" pltdoc="x"><span title="Provided from: handin-server/checker"><span class="RktSym"><span class="RktValLink">pairs-<wbr></wbr>or-<wbr></wbr>singles-<wbr></wbr>with-<wbr></wbr>warning</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._handin-server/checker..rkt)._teams-in-file))" class="tocsublink" pltdoc="x"><span title="Provided from: handin-server/checker"><span class="RktSym"><span class="RktValLink">teams-<wbr></wbr>in-<wbr></wbr>file</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._handin-server/checker..rkt)._add-header-line!))" class="tocsublink" pltdoc="x"><span title="Provided from: handin-server/checker"><span class="RktSym"><span class="RktValLink">add-<wbr></wbr>header-<wbr></wbr>line!</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._handin-server/checker..rkt)._procedure/arity~3f))" class="tocsublink" pltdoc="x"><span title="Provided from: handin-server/checker"><span class="RktSym"><span class="RktValLink">procedure/<span class="mywbr"> </span>arity?</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._handin-server/checker..rkt)._!defined))" class="tocsublink" pltdoc="x"><span title="Provided from: handin-server/checker"><span class="RktSym"><span class="RktStxLink">!defined</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._handin-server/checker..rkt)._!bound))" class="tocsublink" pltdoc="x"><span title="Provided from: handin-server/checker"><span class="RktSym"><span class="RktStxLink">!bound</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._handin-server/checker..rkt)._!syntax))" class="tocsublink" pltdoc="x"><span title="Provided from: handin-server/checker"><span class="RktSym"><span class="RktStxLink">!syntax</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._handin-server/checker..rkt)._!procedure))" class="tocsublink" pltdoc="x"><span title="Provided from: handin-server/checker"><span class="RktSym"><span class="RktStxLink">!procedure</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._handin-server/checker..rkt)._!procedure*))" class="tocsublink" pltdoc="x"><span title="Provided from: handin-server/checker"><span class="RktSym"><span class="RktStxLink">!procedure*</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._handin-server/checker..rkt)._!integer))" class="tocsublink" pltdoc="x"><span title="Provided from: handin-server/checker"><span class="RktSym"><span class="RktStxLink">!integer</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._handin-server/checker..rkt)._!integer*))" class="tocsublink" pltdoc="x"><span title="Provided from: handin-server/checker"><span class="RktSym"><span class="RktStxLink">!integer*</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._handin-server/checker..rkt)._!test))" class="tocsublink" pltdoc="x"><span title="Provided from: handin-server/checker"><span class="RktSym"><span class="RktStxLink">!test</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._handin-server/checker..rkt)._!test/exn))" class="tocsublink" pltdoc="x"><span title="Provided from: handin-server/checker"><span class="RktSym"><span class="RktStxLink">!test/<span class="mywbr"> </span>exn</span></span></span></a></td></tr><tr><td><a href="#(form._((lib._handin-server/checker..rkt)._!eval))" class="tocsublink" pltdoc="x"><span title="Provided from: handin-server/checker"><span class="RktSym"><span class="RktStxLink">!eval</span></span></span></a></td></tr><tr><td><a href="#(def._((lib._handin-server/checker..rkt)._!all-covered))" class="tocsublink" pltdoc="x"><span title="Provided from: handin-server/checker"><span class="RktSym"><span class="RktValLink">!all-<wbr></wbr>covered</span></span></span></a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.0.1&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="file:///home/homecrypt/.racket/5.0.0.1/doc/index.html" title="up" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.0.1&quot;);">top</a></span><span class="navright"><a href="Utilities.html" title="backward to &quot;6.2 Utilities&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Checker_Utilities.html" title="up to &quot;6 Checker Utilities&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="Additional_Utilities.html" title="forward to &quot;7 Additional Utilities&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>6.3<tt>&nbsp;</tt><a name="(part._.Checker)"></a><a name="(mod-path._handin-server/checker)"></a>Checker</h4><p><div class="SIntrapara"><table cellspacing="0" class="defmodule"><tr><td><span class="hspace">&nbsp;</span><a href="file:///media/btrfs/racket/doc/guide/Module_Syntax.html#(part._hash-lang)" class="RktModLink" pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="Checker.html" class="RktModLink" pltdoc="x"><span class="RktSym">handin-server/checker</span></a></td></tr></table></div><div class="SIntrapara">The <a href="Checker.html" class="RktModLink" pltdoc="x"><span class="RktSym">handin-server/checker</span></a> module provides a
higher-level of utilities, helpful in implementing `checker&rsquo; functions
that are intended for a more automated system.  This module is a
language module &ndash; a typical checker that uses it looks like this:</div><div class="SIntrapara"><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/module.html#(form._((quote._~23~25kernel)._module))" class="RktStxLink" pltdoc="x">module</a></span><span class="hspace">&nbsp;</span><span class="RktSym">checker</span><span class="hspace">&nbsp;</span><span class="RktSym">handin-server/checker</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._check~3a))" class="RktStxLink" pltdoc="x">check:</a></span><span class="hspace">&nbsp;</span><span class="RktSym">:language</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">special</span><span class="hspace">&nbsp;</span><span class="RktVal">intermediate</span><span class="RktVal">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">:users</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="Checker.html#(def._((lib._handin-server/checker..rkt)._pairs-or-singles-with-warning))" class="RktValLink" pltdoc="x">pairs-or-singles-with-warning</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">:coverage?</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._!procedure))" class="RktStxLink" pltdoc="x">!procedure</a></span><span class="hspace">&nbsp;</span><span class="RktSym">Fahrenheit-&gt;Celsius</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._!test))" class="RktStxLink" pltdoc="x">!test</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">Fahrenheit-&gt;Celsius</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">32</span><span class="RktPn">)</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._!test))" class="RktStxLink" pltdoc="x">!test</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">Fahrenheit-&gt;Celsius</span><span class="hspace">&nbsp;</span><span class="RktVal">212</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">100</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._!test))" class="RktStxLink" pltdoc="x">!test</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">Fahrenheit-&gt;Celsius</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">-4</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">-20</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._handin-server/checker..rkt)._check~3a))"></a><a name="(form._((lib._handin-server/checker..rkt)._check~3a))"></a><span title="Provided from: handin-server/checker"><span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._check~3a))" class="RktStxLink" pltdoc="x">check:</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">keys-n-vals</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">keys-n-vals</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><table cellspacing="0" class="RktBlk"><tr><td></td></tr></table></td></tr><tr><td align="right" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">|</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">:key</span><span class="hspace">&nbsp;</span><span class="RktVar">val</span><span class="hspace">&nbsp;</span><span class="RktVar">keys-n-vals</span></td></tr></table></td></tr></table></div><div class="SIntrapara">Constructs (and provides) an appropriate checker function, using
keywords to customize features that you want it to have.  The body of
the checker (following the keywords) can contain arbitrary code, using
utility functions from <a href="Utilities.html" class="RktModLink" pltdoc="x"><span class="RktSym">handin-server/utils</span></a>, as well as
additional ones that are defined below.  Submission files are arriving
to the handin server in binary form (in the GRacket format that is used
to store text and other objects like images), and a number of these
options involve genrating a textual version of this file.  The purpose
of these options is to have these text files integrate easily into a
course framework for grading, based on these text files.</div></p><p>Keywords for configuring <span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._check~3a))" class="RktStxLink" pltdoc="x">check:</a></span>:</p><ul><li><p><a name="(idx._(gentag._30._(lib._handin-server/scribblings/handin-server..scrbl)))"></a><span class="RktSym">:users</span> &ndash; specification of users that are
acceptable for submission.  Can be either a list of user lists, each
representing a known team, or procedure which will accept a list of
users and throw an exception if they are unacceptable.  The default
is to accept only single-user submissions.  The
<span class="RktSym"><a href="Checker.html#(def._((lib._handin-server/checker..rkt)._pairs-or-singles-with-warning))" class="RktValLink" pltdoc="x">pairs-or-singles-with-warning</a></span> procedure is a useful value
for pair submission where the pairs are unknown.</p></li><li><p><a name="(idx._(gentag._31._(lib._handin-server/scribblings/handin-server..scrbl)))"></a><span class="RktSym">:eval?</span> &ndash; whether submissions should be
evaluated.  Defaults to <span class="RktVal">#t</span>.  Note that if it is specified
as <span class="RktVal">#f</span>, then the checker body will not be able to run any
tests on the code, unless it contains code that performs some
evaluation (e.g., using the facilities of
<a href="Utilities.html" class="RktModLink" pltdoc="x"><span class="RktSym">handin-server/utils</span></a>).</p></li><li><p><a name="(idx._(gentag._32._(lib._handin-server/scribblings/handin-server..scrbl)))"></a><span class="RktSym">:language</span> &ndash; the language that is used for
evaluating submissions, same as the <span class="RktVar">language</span> argument for
<span class="RktSym"><a href="file:///media/btrfs/racket/doc/scheme/scheme_sandbox.html#(def._((lib._scheme/sandbox..rkt)._make-evaluator))" class="RktValLink" pltdoc="x">make-evaluator</a></span> (see <a href="Sandbox.html" class="RktModLink" pltdoc="x"><span class="RktSym">handin-server/sandbox</span></a>).
There is no default for this, so it must be set or an error is
raised.  (See <span class="RktSym"><a href="Utilities.html#(def._((lib._handin-server/utils..rkt)._call-with-evaluator/submission))" class="RktValLink" pltdoc="x">call-with-evaluator/submission</a></span> for further
details.)</p></li><li><p><a name="(idx._(gentag._33._(lib._handin-server/scribblings/handin-server..scrbl)))"></a><span class="RktSym">:requires</span> &ndash; paths for additional libraries to
require for evaluating the submission, same as the
<span class="RktVar">requires</span> argument for <span class="RktSym"><a href="file:///media/btrfs/racket/doc/scheme/scheme_sandbox.html#(def._((lib._scheme/sandbox..rkt)._make-evaluator))" class="RktValLink" pltdoc="x">make-evaluator</a></span> (see
<a href="Sandbox.html" class="RktModLink" pltdoc="x"><span class="RktSym">handin-server/sandbox</span></a>).  This defaults to null &ndash; no
teachpacks.  Note: if a module language is used (See
<span class="RktSym"><a href="Utilities.html#(def._((lib._handin-server/utils..rkt)._call-with-evaluator/submission))" class="RktValLink" pltdoc="x">call-with-evaluator/submission</a></span> for further details), it is
passed as the <span class="RktVar">allow-read</span> argument.</p></li><li><p><a name="(idx._(gentag._34._(lib._handin-server/scribblings/handin-server..scrbl)))"></a><span class="RktSym">:teachpacks</span> &ndash; an alternative name for
<span class="RktSym">:requires</span>, kept for legacy checkers.</p></li><li><p><a name="(idx._(gentag._35._(lib._handin-server/scribblings/handin-server..scrbl)))"></a><span class="RktSym">:create-text?</span> &ndash; if true, then a textual version
of the submission is saved as <span class="stt">"text.scm"</span> in a
<span class="stt">"grading"</span> subdirectory (or any suffix that is specified by
<span class="RktSym">:output</span> below, for example <span class="stt">"hw.java"</span> is converted
into a textual <span class="stt">"grading/text.java"</span>).  This is intended for
printouts and grading, and is in a subdirectory so students will not
see it on the status web server.  Defaults to <span class="RktVal">#t</span>.</p></li><li><p><div class="SIntrapara"><a name="(idx._(gentag._36._(lib._handin-server/scribblings/handin-server..scrbl)))"></a><span class="RktSym">:textualize?</span> &ndash; if true, then all submissions
are converted to text, trying to convert objects like images and
comment boxes to some form of text.  Defaults to <span class="RktVal">#f</span>,
meaning that an exception is raised for submissions that are not all
text. </div><div class="SIntrapara">(Effective only when saving a textual version of
the submission files: when <span class="RktSym">:create-text?</span> is on.)</div></p><p><div class="SIntrapara">This flag is effective only when saving a textual version of the
submission files  &ndash;  when <span class="RktSym">:create-text?</span> is on.  The
possible configurations are:
</div><div class="SIntrapara"><ul><li><p><span class="RktSym">:create-text?</span> is on and <span class="RktSym">:textualize?</span> is off
(the default)  &ndash;  in this case a text version of submissions is
created, and submissions must contain only plain text.  The text
file has the same semantics of the submission and can be used to
run student code.</p></li><li><p><span class="RktSym">:create-text?</span> is off  &ndash;  allowing submissions that
contain non-textual objects, but no text file is created so
grading and testing must be done using DrRacket (because the saved
submission is always in binary format).</p></li><li><p>Both flags are on  &ndash;  allowing submission with non-textual
objects and generating text files, but these files will not be
usable as code since objects like images cannot be represented in
plain text.</p></li></ul></div></p></li><li><p><div class="SIntrapara"><a name="(idx._(gentag._37._(lib._handin-server/scribblings/handin-server..scrbl)))"></a><span class="RktSym">:untabify?</span> &ndash; if true, then tabs are converted
to spaces, assuming a standard tab width of 8 places.  This is
needed for a correct computation of line lengths, but note that
DrRacket does not insert tabs in Scheme mode.  Defaults to
<span class="RktVal">#t</span>.  </div><div class="SIntrapara">(Effective only when saving a textual version of
the submission files: when <span class="RktSym">:create-text?</span> is on.)</div></p></li><li><p><div class="SIntrapara"><a name="(idx._(gentag._38._(lib._handin-server/scribblings/handin-server..scrbl)))"></a><span class="RktSym">:maxwidth</span> &ndash; a number that specifies maximum
line lengths for submissions (a helpful feature for reading student
code).  Defaults to 79.  This feature can be disabled if set to
<span class="RktVal">#f</span>.  </div><div class="SIntrapara">(Effective only when saving a textual version of
the submission files: when <span class="RktSym">:create-text?</span> is on.)</div></p></li><li><p><a name="(idx._(gentag._39._(lib._handin-server/scribblings/handin-server..scrbl)))"></a><span class="RktSym">:output</span> &ndash; the name of the original handin file
(unrelated to the text-converted files).  Defaults to
<span class="stt">"hw.scm"</span>.  (The suffix changes the defaults of
<span class="RktSym">:markup-prefix</span> and <span class="RktSym">:prefix-re</span>.)  Can be
<span class="RktVal">#f</span> for removing the original file after processing.  The
file is always stored in GRacket&rsquo;s binary format.</p></li><li><p><a name="(idx._(gentag._40._(lib._handin-server/scribblings/handin-server..scrbl)))"></a><span class="RktSym">:multi-file</span> &ndash; by default, this is set to
<span class="RktVal">#f</span>, which means that only DrRacket is used to send
submissions as usual.  See <a href="Additional_Utilities.html#(part._multi-file)" pltdoc="x">Multiple-File Submissions</a> for setting up
multi-file submissions.</p></li><li><p><a name="(idx._(gentag._41._(lib._handin-server/scribblings/handin-server..scrbl)))"></a><span class="RktSym">:names-checker</span> &ndash; used for multi-file
submissions; see <a href="Additional_Utilities.html#(part._multi-file)" pltdoc="x">Multiple-File Submissions</a> for details.</p></li><li><p><div class="SIntrapara"><a name="(idx._(gentag._42._(lib._handin-server/scribblings/handin-server..scrbl)))"></a><span class="RktSym">:markup-prefix</span> &ndash; used as the prefix for
<span class="RktSym">:student-lines</span> and <span class="RktSym">:extra-lines</span> below.  The
default is <span class="RktVal">";;&gt; "</span> or <span class="RktVal">"//&gt; "</span>, depending on the
suffix of <span class="RktSym">:output</span> above.  Note: if you change this, make
sure to change <span class="RktSym">:prefix-re</span> too.  </div><div class="SIntrapara">(Effective only when saving a textual version of
the submission files: when <span class="RktSym">:create-text?</span> is on.)</div></p></li><li><p><div class="SIntrapara"><a name="(idx._(gentag._43._(lib._handin-server/scribblings/handin-server..scrbl)))"></a><span class="RktSym">:prefix-re</span> &ndash; used to identify lines with markup
(<span class="RktVal">";&gt;"</span> or <span class="RktVal">"//&gt;"</span> etc), so students cannot fool the
system by writing marked-up code.  The default is <span class="RktVal">";&gt;"</span> or
<span class="RktVal">"//&gt;"</span>, depending on the suffix of :output above.
</div><div class="SIntrapara">(Effective only when saving a textual version of
the submission files: when <span class="RktSym">:create-text?</span> is on.)</div></p></li><li><p><div class="SIntrapara"><a name="(idx._(gentag._44._(lib._handin-server/scribblings/handin-server..scrbl)))"></a><span class="RktSym">:student-line</span> &ndash; when a submission is converted
to text, it begins with lines describing the students that have
submitted it; this is used to specify the format of these lines.  It
is a string with holes that <span class="RktSym"><a href="Checker.html#(def._((lib._handin-server/checker..rkt)._user-substs))" class="RktValLink" pltdoc="x">user-substs</a></span> fills out.
The default is <span class="RktVal">"Student: {username} ({Full Name} &lt;{Email}&gt;)"</span>,
which requires <span class="RktVal">"Full Name"</span> and <span class="RktVal">"Email"</span> entries in
the server&rsquo;s extra-fields configuration.  These lines are prefixed
with <span class="RktVal">";;&gt; "</span> or the prefix specified by
<span class="RktSym">:makup-prefix</span> above.  </div><div class="SIntrapara">(Effective only when saving a textual version of
the submission files: when <span class="RktSym">:create-text?</span> is on.)</div></p></li><li><p><div class="SIntrapara"><a name="(idx._(gentag._45._(lib._handin-server/scribblings/handin-server..scrbl)))"></a><span class="RktSym">:extra-lines</span> &ndash; a list of lines to add after the
student lines, all with a <span class="RktVal">";;&gt; "</span> or :markup-prefix too.
Defaults to a single line:
<span class="RktVal">"Maximum points for this assignment: &lt;+100&gt;"</span>.  (Can use
<span class="RktVal">"{submission}"</span> for the submission directory.)  See also
<span class="RktSym"><a href="Checker.html#(def._((lib._handin-server/checker..rkt)._add-header-line!))" class="RktValLink" pltdoc="x">add-header-line!</a></span>.  </div><div class="SIntrapara">(Effective only when saving a textual version of
the submission files: when <span class="RktSym">:create-text?</span> is on.)</div></p></li><li><p><a name="(idx._(gentag._46._(lib._handin-server/scribblings/handin-server..scrbl)))"></a><span class="RktSym">:user-error-message</span> &ndash; a string that is used to
report an error that occurred during evaluation of the submitted
code (not during additional tests).  It can be a plain string which
will be used as the error message, or a string with single a
<span class="RktVal">"~a"</span> (or <span class="RktVal">"~e"</span>, <span class="RktVal">"~s"</span>, <span class="RktVal">"~v"</span>) that
will be used as a format string with the actual error message.  The
default is <span class="RktVal">"Error in your code --\n~a"</span>.  Useful examples of
these messages:</p><p><span class="RktVal">"There is an error in your program, hit \"Run\" to debug"</span></p><p><span class="RktVal">"There is an error in your program:\n----\n~a\n----\nHit \"Run\" and debug your code."</span></p><p>Alternatively, the value can be a procedure that will be invoked
with the error message.  The procedure can do anything it wants, and
if it does not raise an exception, then the checker will proceed as
usual.  For example:</p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">msg</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Checker.html#(def._((lib._handin-server/checker..rkt)._add-header-line!))" class="RktValLink" pltdoc="x">add-header-line!</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Erroneous submission!"</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Checker.html#(def._((lib._handin-server/checker..rkt)._add-header-line!))" class="RktValLink" pltdoc="x">add-header-line!</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/Writing.html#(def._((quote._~23~25kernel)._format))" class="RktValLink" pltdoc="x">format</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">--&gt; ~a"</span><span class="hspace">&nbsp;</span><span class="RktSym">msg</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Utilities.html#(def._((lib._handin-server/utils..rkt)._message))" class="RktValLink" pltdoc="x">message</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/strings.html#(def._((quote._~23~25kernel)._string-append))" class="RktValLink" pltdoc="x">string-append</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"You have an error in your program -- please hit"</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">" \"Run\" and debug your code.\n"</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"Email the course staff if you think your code is"</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">" fine.\n"</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"(The submission has been saved but marked as"</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">" erroneous.)"</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">ok</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Utilities.html#(def._((lib._handin-server/utils..rkt)._message))" class="RktValLink" pltdoc="x">message</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Handin saved as erroneous."</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">final</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><p>(Note that if you do this, then additional tests should be adjusted
to not raise an exception too.)</p></li><li><p><a name="(idx._(gentag._47._(lib._handin-server/scribblings/handin-server..scrbl)))"></a><span class="RktSym">:value-printer</span> &ndash; if specified, this will be
used for <span class="RktSym"><a href="Utilities.html#(def._((lib._handin-server/utils..rkt)._current-value-printer))" class="RktValLink" pltdoc="x">current-value-printer</a></span>.</p></li><li><p><a name="(idx._(gentag._48._(lib._handin-server/scribblings/handin-server..scrbl)))"></a><span class="RktSym">:coverage?</span> &ndash; collect coverage information when
evaluating the submission.  This will cause an error if some input
is not covered.  This check happens after checker tests are run, but
the information is collected and stored before, so checker tests do
not change the result.  Also, you can use the <span class="RktSym"><a href="Checker.html#(def._((lib._handin-server/checker..rkt)._!all-covered))" class="RktValLink" pltdoc="x">!all-covered</a></span>
procedure in the checker before other tests, if you want that
feedback earlier.</p></li></ul><p>Within the body of <span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._check~3a))" class="RktStxLink" pltdoc="x">check:</a></span>, <span class="RktSym">users</span> and
<span class="RktSym">submission</span> will be bound to the checker arguments &ndash; a
(sorted) list of usernames and the submission as a byte string.  In
addition to the functionality below, you can use
<span class="RktPn">(</span><span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._!eval))" class="RktStxLink" pltdoc="x">!eval</a></span><span class="stt"> </span><span class="RktVar">expr</span><span class="RktPn">)</span> (or <span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="Checker.html#(def._((lib._handin-server/checker..rkt)._submission-eval))" class="RktValLink" pltdoc="x">submission-eval</a></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">expr</span><span class="RktPn">)</span>) to
evaluate expressions in the submitted code context, and you can use
<span class="RktPn">(</span><span class="RktSym">with-submission-bindings</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">id</span><span class="stt"> </span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym">body</span><span class="stt"> </span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/stx-patterns.html#(form._((lib._racket/private/stxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span> to evaluate the
body when <span class="RktSym">id</span>&rsquo;s are bound to their values from the submission
code.}</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._handin-server/checker..rkt)._pre~3a))"></a><a name="(form._((lib._handin-server/checker..rkt)._pre~3a))"></a><span title="Provided from: handin-server/checker"><span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._pre~3a))" class="RktStxLink" pltdoc="x">pre:</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._handin-server/checker..rkt)._post~3a))"></a><a name="(form._((lib._handin-server/checker..rkt)._post~3a))"></a><span title="Provided from: handin-server/checker"><span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._post~3a))" class="RktStxLink" pltdoc="x">post:</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></td></tr></table></div><div class="SIntrapara">These two macros define a pre- and a post-checker.  In their bodies,
<span class="RktVar">users</span> and <span class="RktVar">submission</span> are bound as in
<span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._check~3a))" class="RktStxLink" pltdoc="x">check:</a></span>, but there is nothing else special about these.  See
the description of the <span class="RktSym">pre-checker</span> and
<span class="RktSym">post-checker</span> values for what can be done with these, and
note that the check for valid users is always first.  An example for
a sophisticated <span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._post~3a))" class="RktStxLink" pltdoc="x">post:</a></span> block is below &ndash; it will first
disable timeouts for this session, then it will send a email with a
submission receipt, with CC to the TA (assuming a single TA), and
pop-up a message telling the student about it:</div></p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/require.html#(form._((lib._racket/private/base..rkt)._require))" class="RktStxLink" pltdoc="x">require</a></span><span class="hspace">&nbsp;</span><span class="RktSym">net/sendmail</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="RktPn">(</span><span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._post~3a))" class="RktStxLink" pltdoc="x">post:</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/define.html#(form._((lib._racket/private/base..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">info</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/Writing.html#(def._((quote._~23~25kernel)._format))" class="RktValLink" pltdoc="x">format</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"hw.scm: ~a ~a"</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/Filesystem.html#(def._((quote._~23~25kernel)._file-size))" class="RktValLink" pltdoc="x">file-size</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"hw.scm"</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/Filesystem.html#(def._((quote._~23~25kernel)._file-or-directory-modify-seconds))" class="RktValLink" pltdoc="x">file-or-directory-modify-seconds</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"hw.scm"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Utilities.html#(def._((lib._handin-server/utils..rkt)._timeout-control))" class="RktValLink" pltdoc="x">timeout-control</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">disable</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Utilities.html#(def._((lib._handin-server/utils..rkt)._log-line))" class="RktValLink" pltdoc="x">log-line</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Sending a receipt: ~a"</span><span class="hspace">&nbsp;</span><span class="RktSym">info</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">send-mail-message</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"course-staff@university.edu"</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"Submission Receipt"</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/pairs.html#(def._((lib._racket/private/map..rkt)._map))" class="RktValLink" pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">user</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Checker.html#(def._((lib._handin-server/checker..rkt)._user-substs))" class="RktValLink" pltdoc="x">user-substs</a></span><span class="hspace">&nbsp;</span><span class="RktSym">user</span><span class="hspace">&nbsp;</span><span class="RktVal">"{Full Name} &lt;{Email}&gt;"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">users</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Checker.html#(def._((lib._handin-server/checker..rkt)._user-substs))" class="RktValLink" pltdoc="x">user-substs</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/pairs.html#(def._((quote._~23~25kernel)._car))" class="RktValLink" pltdoc="x">car</a></span><span class="hspace">&nbsp;</span><span class="RktSym">users</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">"{TA Name} &lt;{TA Email}&gt;"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/pairs.html#(def._((quote._~23~25kernel)._null))" class="RktValLink" pltdoc="x">null</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktVal">`</span><span class="RktVal">(</span><span class="RktVal">"Your submission was received"</span><span class="hspace">&nbsp;</span><span class="RktRdr">,</span><span class="RktSym">info</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Utilities.html#(def._((lib._handin-server/utils..rkt)._message))" class="RktValLink" pltdoc="x">message</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/strings.html#(def._((quote._~23~25kernel)._string-append))" class="RktValLink" pltdoc="x">string-append</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"Your submission was successfully saved."</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">You will get an email receipt within 30 minutes;"</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">" if not, please contact the course staff."</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">ok</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._handin-server/checker..rkt)._submission-eval))"></a><a name="(def._((lib._handin-server/checker..rkt)._submission-eval))"></a><span title="Provided from: handin-server/checker"><span class="RktSym"><a href="Checker.html#(def._((lib._handin-server/checker..rkt)._submission-eval))" class="RktValLink" pltdoc="x">submission-eval</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: handin-server/checker"><span class="RktSym"><a href="Checker.html#(def._((lib._handin-server/checker..rkt)._submission-eval))" class="RktValLink" pltdoc="x">submission-eval</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">eval</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">eval</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/guts..rkt)._any/c))" class="RktValLink" pltdoc="x">any/c</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Holds an evaluation procedure for evaluating code in the submission
context.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._handin-server/checker..rkt)._user-data))"></a><a name="(def._((lib._handin-server/checker..rkt)._user-data))"></a><span title="Provided from: handin-server/checker"><span class="RktSym"><a href="Checker.html#(def._((lib._handin-server/checker..rkt)._user-data))" class="RktValLink" pltdoc="x">user-data</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">user</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">user</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span></td></tr></table></div><div class="SIntrapara">Returns a user information given a username.  The returned
information is a list of strings that corresponds to the configured
<span class="RktSym">extra-fields</span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._handin-server/checker..rkt)._user-substs))"></a><a name="(def._((lib._handin-server/checker..rkt)._user-substs))"></a><span title="Provided from: handin-server/checker"><span class="RktSym"><a href="Checker.html#(def._((lib._handin-server/checker..rkt)._user-substs))" class="RktValLink" pltdoc="x">user-substs</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">user</span><span class="hspace">&nbsp;</span><span class="RktVar">fmt</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/strings.html#(def._((quote._~23~25kernel)._string))" class="RktValLink" pltdoc="x">string</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">user</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">fmt</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span></td></tr></table></div><div class="SIntrapara">Uses the mappings in <span class="RktSym"><a href="Checker.html#(def._((lib._handin-server/checker..rkt)._user-data))" class="RktValLink" pltdoc="x">user-data</a></span> to substitute user
information for substrings of the form &ldquo;<span class="stt">{some-field-name}</span>&rdquo; in
<span class="RktVar">fmt</span>.  This procedure signals an error if a field name is
missing in the user data.  Also, &ldquo;<span class="stt">{username}</span>&rdquo; will always be
replaced by the username and &ldquo;<span class="stt">{submission}</span>&rdquo; by the current
submission directory.</div></p><p>This is used to process the <span class="RktSym">:student-line</span> value in the
checker, but it is provided for additional uses.  See the above
sample code for <span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._post~3a))" class="RktStxLink" pltdoc="x">post:</a></span> for using this procedure.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._handin-server/checker..rkt)._pairs-or-singles-with-warning))"></a><a name="(def._((lib._handin-server/checker..rkt)._pairs-or-singles-with-warning))"></a><span title="Provided from: handin-server/checker"><span class="RktSym"><a href="Checker.html#(def._((lib._handin-server/checker..rkt)._pairs-or-singles-with-warning))" class="RktValLink" pltdoc="x">pairs-or-singles-with-warning</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">users</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">users</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Intended for use as the <span class="RktSym">:users</span> entry in a checker.  It will
do nothing if there are two users, and throw an error if there are
more.  If there is a single user, then the user will be asked to
verify a single submission. If the student cancels, then an
exception is raised so the submission directory is retracted.  If
the student approves this, the question is not repeated (this is
marked by creating a directory with a known name).  This is useful
for cases where you want to allow free pair submissions &ndash; students
will often try to submit their work alone, and later on re-submit
with a partner.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._handin-server/checker..rkt)._teams-in-file))"></a><a name="(def._((lib._handin-server/checker..rkt)._teams-in-file))"></a><span title="Provided from: handin-server/checker"><span class="RktSym"><a href="Checker.html#(def._((lib._handin-server/checker..rkt)._teams-in-file))" class="RktValLink" pltdoc="x">teams-in-file</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">team-file</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/Data-structure_Contracts.html#(def._((lib._racket/contract/private/misc..rkt)._listof))" class="RktValLink" pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">team-file</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/Manipulating_Paths.html#(def._((lib._racket/private/misc..rkt)._path-string~3f))" class="RktValLink" pltdoc="x">path-string?</a></span></td></tr></table></div><div class="SIntrapara"><span style="font-style: italic">Returns</span> a procedure that can be used for the :users entry
in a checker.  The team file (relative from the server&rsquo;s main
directory) is expected to have user entries &ndash; a sequence of
s-expressions, each one a string or a list of strings.  The
resulting procedure will allow submission only by teams that are
specified in this file.  Furthermore, if this file is modified, the
new contents will be used immediately, so there is no need to
restart the server of you want to change student teams.  (But
remember that if you change <span class="RktPn">(</span><span class="RktVal">"foo"</span><span class="stt"> </span><span class="RktVal">"bar"</span><span class="RktPn">)</span> to
<span class="RktPn">(</span><span class="RktVal">"foo"</span><span class="stt"> </span><span class="RktVal">"baz"</span><span class="RktPn">)</span>, and there is already a <span class="stt">"bar+foo"</span>
submission directory, then the system will not allow &ldquo;<span class="stt">foo</span>&rdquo; to
submit with &ldquo;<span class="stt">bar</span>&rdquo;.)</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._handin-server/checker..rkt)._add-header-line!))"></a><a name="(def._((lib._handin-server/checker..rkt)._add-header-line!))"></a><span title="Provided from: handin-server/checker"><span class="RktSym"><a href="Checker.html#(def._((lib._handin-server/checker..rkt)._add-header-line!))" class="RktValLink" pltdoc="x">add-header-line!</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">line</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">line</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span></td></tr></table></div><div class="SIntrapara">During the checker operation, can be used to add header lines to the
text version of the submitted file (in addition to the
<span class="RktSym">:extra-lines</span> setting).  It will not have an effect if
<span class="RktSym">:create-text?</span> is false.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._handin-server/checker..rkt)._procedure/arity~3f))"></a><a name="(def._((lib._handin-server/checker..rkt)._procedure/arity~3f))"></a><span title="Provided from: handin-server/checker"><span class="RktSym"><a href="Checker.html#(def._((lib._handin-server/checker..rkt)._procedure/arity~3f))" class="RktValLink" pltdoc="x">procedure/arity?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span><span class="hspace">&nbsp;</span><span class="RktVar">arity</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/booleans.html#(def._((quote._~23~25kernel)._boolean~3f))" class="RktValLink" pltdoc="x">boolean?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">proc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/procedures.html#(def._((quote._~23~25kernel)._procedure~3f))" class="RktValLink" pltdoc="x">procedure?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">arity</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/numbers.html#(def._((quote._~23~25kernel)._number~3f))" class="RktValLink" pltdoc="x">number?</a></span></td></tr></table></div><div class="SIntrapara">Returns <span class="RktVal">#t</span> if <span class="RktVar">proc</span> is a procedure that accepts
<span class="RktVar">arity</span> arguments.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._handin-server/checker..rkt)._!defined))"></a><a name="(form._((lib._handin-server/checker..rkt)._!defined))"></a><span title="Provided from: handin-server/checker"><span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._!defined))" class="RktStxLink" pltdoc="x">!defined</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Checks that the given identifiers are defined in the (evaluated)
submission, and throws an error otherwise.  The identifiers can be
bound as either a plain value or as a syntax.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._handin-server/checker..rkt)._!bound))"></a><a name="(form._((lib._handin-server/checker..rkt)._!bound))"></a><span title="Provided from: handin-server/checker"><span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._!bound))" class="RktStxLink" pltdoc="x">!bound</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Checks that the given identifiers are defined in the (evaluated)
submission as a plain value.  Throws an error if not, or if an
identifier is bound to a syntax.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._handin-server/checker..rkt)._!syntax))"></a><a name="(form._((lib._handin-server/checker..rkt)._!syntax))"></a><span title="Provided from: handin-server/checker"><span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._!syntax))" class="RktStxLink" pltdoc="x">!syntax</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">arity</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Checks that <span class="RktVar">id</span> is defined, and is bound as a macro.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._handin-server/checker..rkt)._!procedure))"></a><a name="(form._((lib._handin-server/checker..rkt)._!procedure))"></a><span title="Provided from: handin-server/checker"><span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._!procedure))" class="RktStxLink" pltdoc="x">!procedure</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="hspace">&nbsp;</span><span class="RktVar">arity</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Checks that <span class="RktVar">id</span> is defined, and is bound to a procedure.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._handin-server/checker..rkt)._!procedure*))"></a><a name="(form._((lib._handin-server/checker..rkt)._!procedure*))"></a><span title="Provided from: handin-server/checker"><span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._!procedure*))" class="RktStxLink" pltdoc="x">!procedure*</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="hspace">&nbsp;</span><span class="RktVar">arity</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Similar to <span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._!procedure))" class="RktStxLink" pltdoc="x">!procedure</a></span> but omits the defined check, making
it usable with any expression, which is then evaluated in the
submission context.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._handin-server/checker..rkt)._!integer))"></a><a name="(form._((lib._handin-server/checker..rkt)._!integer))"></a><span title="Provided from: handin-server/checker"><span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._!integer))" class="RktStxLink" pltdoc="x">!integer</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">id</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._handin-server/checker..rkt)._!integer*))"></a><a name="(form._((lib._handin-server/checker..rkt)._!integer*))"></a><span title="Provided from: handin-server/checker"><span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._!integer*))" class="RktStxLink" pltdoc="x">!integer*</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="RktPn">)</span></td></tr></table></td></tr></table></div><div class="SIntrapara">Similar to <span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._!procedure))" class="RktStxLink" pltdoc="x">!procedure</a></span> and <span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._!procedure*))" class="RktStxLink" pltdoc="x">!procedure*</a></span> for
integers.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._handin-server/checker..rkt)._!test))"></a><a name="(form._((lib._handin-server/checker..rkt)._!test))"></a><span title="Provided from: handin-server/checker"><span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._!test))" class="RktStxLink" pltdoc="x">!test</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._!test))" class="RktStxLink" pltdoc="x">!test</a></span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="hspace">&nbsp;</span><span class="RktVar">result</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._!test))" class="RktStxLink" pltdoc="x">!test</a></span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="hspace">&nbsp;</span><span class="RktVar">result</span><span class="hspace">&nbsp;</span><span class="RktVar">equal?</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><table cellspacing="0" class="together"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._handin-server/checker..rkt)._!test/exn))"></a><a name="(form._((lib._handin-server/checker..rkt)._!test/exn))"></a><span title="Provided from: handin-server/checker"><span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._!test/exn))" class="RktStxLink" pltdoc="x">!test/exn</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="RktPn">)</span></td></tr></table></td></tr></table></div><div class="SIntrapara">The first <span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._!test))" class="RktStxLink" pltdoc="x">!test</a></span> form checks that the given expression
evaluates to a non-<span class="RktVal">#f</span> value in the submission context,
throwing an error otherwise.  The second form compares the result of
evaluation, requiring it to be equal to <span class="RktVar">result</span>. The third
allows specifying an equality procedure. The <span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._!test/exn))" class="RktStxLink" pltdoc="x">!test/exn</a></span> form
checks that the given expression throws an <span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/exns.html#(def._((quote._~23~25kernel)._exn~3afail~3f))" class="RktValLink" pltdoc="x">exn:fail?</a></span> error,
throwing an error otherwise.</div></p><p>For the latter two <span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._!test))" class="RktStxLink" pltdoc="x">!test</a></span> forms, note that the
<span class="RktVar">result</span> and <span class="RktVar">equal?</span> forms are <span style="font-style: italic">not</span> evaluated
in the submission context.</p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._handin-server/checker..rkt)._!eval))"></a><a name="(form._((lib._handin-server/checker..rkt)._!eval))"></a><span title="Provided from: handin-server/checker"><span class="RktSym"><a href="Checker.html#(form._((lib._handin-server/checker..rkt)._!eval))" class="RktStxLink" pltdoc="x">!eval</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">Evaluate an arbitrary expession in the submission context.  This is
a simple shorthand for <span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="Checker.html#(def._((lib._handin-server/checker..rkt)._submission-eval))" class="RktValLink" pltdoc="x">submission-eval</a></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVal">`</span><span class="RktVal">expr</span><span class="RktPn">)</span>.</div></p><p><div class="SIntrapara"><table cellspacing="0" class="boxed"><tr><td><span class="RktPn">(</span><a name="(dep._((lib._handin-server/checker..rkt)._!all-covered))"></a><a name="(def._((lib._handin-server/checker..rkt)._!all-covered))"></a><span title="Provided from: handin-server/checker"><span class="RktSym"><a href="Checker.html#(def._((lib._handin-server/checker..rkt)._!all-covered))" class="RktValLink" pltdoc="x">!all-covered</a></span></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="RktPn">(</span><span title="Provided from: handin-server/checker"><span class="RktSym"><a href="Checker.html#(def._((lib._handin-server/checker..rkt)._!all-covered))" class="RktValLink" pltdoc="x">!all-covered</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">proc</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/void.html#(def._((quote._~23~25kernel)._void~3f))" class="RktValLink" pltdoc="x">void?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">proc</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/strings.html#(def._((quote._~23~25kernel)._string~3f))" class="RktValLink" pltdoc="x">string?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">. </span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/Function_Contracts.html#(form._((lib._racket/contract..rkt)._-~3e))" class="RktStxLink" pltdoc="x">-&gt;</a></span><span class="RktPn"> .</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/Data-structure_Contracts.html#(form._((lib._racket/contract/private/guts..rkt)._any))" class="RktStxLink" pltdoc="x">any</a></span><span class="RktPn">)</span></td></tr></table></div><div class="SIntrapara">When coverage information is enabled (see <span class="RktSym">:coverage?</span>
above), checks the collected coverage information and throws an
error with source information if some code is left uncovered.  If
<span class="RktVar">proc</span> is provided, it is applied to a string argument that
describes the location of the uncovered expression
(<span class="RktVal">"&lt;line&gt;:&lt;col&gt;"</span>, <span class="RktVal">"#&lt;char-pos&gt;"</span>, or
<span class="RktVal">"(unknown position)"</span>) instead of throwing an error.  The
collected information includes only execution coverage by submission
code, excluding additional checker tests.  You do not have to call
this explicitly &ndash; it is called at the end of the process
automatically when <span class="RktSym">:coverage?</span> is enabled.  It is made
available so you can call it earlier (e.g., before testing) to show
clients a coverage error first, or if you want to avoid an error.
For example, you can do this:</div></p><p><table cellspacing="0" class="RktBlk"><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Checker.html#(def._((lib._handin-server/checker..rkt)._!all-covered))" class="RktValLink" pltdoc="x">!all-covered</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/lambda.html#(form._((lib._racket/private/base..rkt)._lambda))" class="RktStxLink" pltdoc="x">lambda</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">where</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/case.html#(form._((lib._racket/private/more-scheme..rkt)._case))" class="RktStxLink" pltdoc="x">case</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Utilities.html#(def._((lib._handin-server/utils..rkt)._message))" class="RktValLink" pltdoc="x">message</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/strings.html#(def._((quote._~23~25kernel)._string-append))" class="RktValLink" pltdoc="x">string-append</a></span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"Incomplete coverage at "</span><span class="RktSym">where</span><span class="RktVal">", do you want"</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">" to save this submission with 10% penalty?"</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">yes-no</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">yes</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Checker.html#(def._((lib._handin-server/checker..rkt)._add-header-line!))" class="RktValLink" pltdoc="x">add-header-line!</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"No full coverage &lt;*90%&gt;"</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="Utilities.html#(def._((lib._handin-server/utils..rkt)._message))" class="RktValLink" pltdoc="x">message</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"Handin saved with penalty."</span><span class="RktPn">)</span><span class="RktPn">]</span></td></tr><tr><td><span class="RktPlain"><span class="hspace">&nbsp;&nbsp;</span></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/if.html#(form._((lib._racket/private/letstx-scheme..rkt)._else))" class="RktStxLink" pltdoc="x">else</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///media/btrfs/racket/doc/reference/exns.html#(def._((quote._~23~25kernel)._error))" class="RktValLink" pltdoc="x">error</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"aborting submission"</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></p><div class="navsetbottom"><span class="navleft"><form class="searchform"><input class="searchbox" style="color: #888;" type="text" value="...search manuals..." title="Enter a search string to search the manuals" onkeypress="return DoSearchKey(event, this, &quot;5.0.0.1&quot;, &quot;../&quot;);" onfocus="this.style.color=&quot;black&quot;; this.style.textAlign=&quot;left&quot;; if (this.value == &quot;...search manuals...&quot;) this.value=&quot;&quot;;" onblur="if (this.value.match(/^ *$/)) { this.style.color=&quot;#888&quot;; this.style.textAlign=&quot;center&quot;; this.value=&quot;...search manuals...&quot;; }" /></form>&nbsp;&nbsp;<a href="file:///home/homecrypt/.racket/5.0.0.1/doc/index.html" title="up" pltdoc="x" onclick="return GotoPLTRoot(&quot;5.0.0.1&quot;);">top</a></span><span class="navright"><a href="Utilities.html" title="backward to &quot;6.2 Utilities&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="Checker_Utilities.html" title="up to &quot;6 Checker Utilities&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="Additional_Utilities.html" title="forward to &quot;7 Additional Utilities&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>